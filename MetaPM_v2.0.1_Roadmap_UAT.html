<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üî¥ MetaPM v2.0.1 ‚Äî Roadmap Dashboard UAT</title>
    <style>
        :root {
            --bg-primary: #1a1a2e;
            --bg-secondary: #252538;
            --accent: #ef4444;
            --accent-success: #22c55e;
            --accent-danger: #ef4444;
            --accent-skip: #6b7280;
            --text-primary: #e5e5e5;
            --text-muted: #9ca3af;
            --border-color: #3a3a52;
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
        }
        
        header {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 24px;
        }
        
        header h1 { font-size: 1.4rem; margin-bottom: 8px; }
        header p { opacity: 0.9; font-size: 0.9rem; }
        
        .meta {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
            margin-top: 12px;
            font-size: 0.85rem;
        }
        
        .meta span {
            background: rgba(255,255,255,0.15);
            padding: 4px 10px;
            border-radius: 4px;
        }

        .url-link {
            display: block;
            background: #0f172a;
            padding: 10px 14px;
            border-radius: 6px;
            margin: 10px 0 20px 0;
            font-family: monospace;
            font-size: 0.85rem;
        }

        .url-link a { color: #f87171; text-decoration: none; }
        .url-link a:hover { text-decoration: underline; }
        
        section {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 16px;
        }
        
        section h2 {
            color: #f87171;
            font-size: 1.1rem;
            margin-bottom: 16px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--accent);
        }
        
        .test-item {
            padding: 16px 0;
            border-bottom: 1px solid var(--border-color);
        }
        
        .test-item:last-child { border-bottom: none; }
        
        .test-row {
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }
        
        .test-content { flex: 1; }
        
        .test-label {
            font-weight: 500;
            display: block;
            margin-bottom: 4px;
        }
        
        .expected {
            color: #a78bfa;
            font-size: 0.85rem;
            font-style: italic;
        }
        
        .test-buttons { display: flex; gap: 6px; }
        
        .btn {
            padding: 6px 14px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.85rem;
            transition: all 0.15s;
        }
        
        .btn-pass { background: #166534; color: #bbf7d0; }
        .btn-pass:hover, .btn-pass.selected { background: var(--accent-success); color: white; }
        
        .btn-fail { background: #991b1b; color: #fecaca; }
        .btn-fail:hover, .btn-fail.selected { background: var(--accent-danger); color: white; }

        .btn-skip { background: #374151; color: #d1d5db; }
        .btn-skip:hover, .btn-skip.selected { background: var(--accent-skip); color: white; }
        
        .test-item.passed .test-label { color: #4ade80; }
        .test-item.passed .test-label::before { content: "‚úì "; }
        
        .test-item.failed .test-label { color: #f87171; }
        .test-item.failed .test-label::before { content: "‚úó "; }

        .test-item.skipped .test-label { color: #9ca3af; }
        .test-item.skipped .test-label::before { content: "‚óã "; }
        
        .notes-container { margin-top: 10px; }
        .notes-label {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-bottom: 4px;
        }
        .notes-label::before { content: "üìù "; }
        .notes-input {
            width: 100%;
            padding: 8px 10px;
            background: #1e1e32;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            color: var(--text-primary);
            font-family: inherit;
            font-size: 0.9rem;
            resize: vertical;
            min-height: 40px;
        }
        .notes-input:focus { outline: none; border-color: #ef4444; }
        
        .summary {
            background: #1e1e32;
            border: 2px solid var(--accent);
            border-radius: 8px;
            padding: 20px;
            margin-top: 24px;
        }
        
        .summary h3 { margin-bottom: 16px; }
        
        .summary-stats {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
            flex-wrap: wrap;
        }
        
        .stat {
            padding: 12px 20px;
            border-radius: 6px;
            font-weight: bold;
            text-align: center;
        }
        
        .stat.total { background: var(--accent); }
        .stat.passed { background: var(--accent-success); }
        .stat.failed { background: #991b1b; }
        .stat.skipped { background: var(--accent-skip); }
        .stat.notes { background: #8b5cf6; }
        
        .overall-result {
            padding: 16px;
            border-radius: 8px;
            text-align: center;
            margin-top: 16px;
        }
        
        .overall-result.pending { background: #374151; border: 2px dashed #6b7280; }
        .overall-result.pass { background: #166534; border: 2px solid var(--accent-success); }
        .overall-result.fail { background: #991b1b; border: 2px solid #ef4444; }
        
        .overall-buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-top: 12px;
        }
        
        .overall-btn {
            padding: 10px 24px;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
        }
        
        .overall-btn.approve { background: var(--accent-success); color: white; }
        .overall-btn.reject { background: #991b1b; color: white; }
        
        .copy-btn {
            background: var(--accent);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 16px;
        }

        .general-notes {
            background: #1e2a3f;
            border: 2px solid #8b5cf6;
            border-radius: 8px;
            padding: 20px;
            margin-top: 24px;
        }

        .general-notes h3 {
            color: #a78bfa;
            margin-bottom: 12px;
        }
        .general-notes h3::before { content: "üìã "; }

        .general-notes-input {
            width: 100%;
            min-height: 120px;
            padding: 12px;
            background: #1e1e32;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            color: var(--text-primary);
            font-size: 0.9rem;
            resize: vertical;
        }

        .submit-section {
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid var(--border-color);
        }

        .submit-btn {
            background: #22c55e;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
        }

        #submit-result { margin-top: 12px; padding: 12px; background: #1e3a5f; border-radius: 6px; }
        #submit-result.hidden { display: none; }
        #submit-result.error { background: #7f1d1d; }
        #handoff-url { width: 100%; padding: 8px; margin-top: 8px; background: #1e1e32; border: 1px solid var(--border-color); border-radius: 4px; color: var(--text-primary); font-family: monospace; }
    </style>
</head>
<body>
    <header>
        <h1>üî¥ MetaPM v2.0.1 ‚Äî Roadmap Dashboard UAT</h1>
        <p>Testing new project management features: Projects, Requirements, Sprints</p>
        <div class="meta">
            <span>Version: 2.0.1</span>
            <span id="test-date"></span>
        </div>
    </header>

    <div class="url-link">
        <strong>Roadmap Dashboard:</strong> <a href="https://metapm.rentyourcio.com/roadmap.html" target="_blank">https://metapm.rentyourcio.com/roadmap.html</a><br>
        <strong>Main Dashboard:</strong> <a href="https://metapm.rentyourcio.com/dashboard.html" target="_blank">https://metapm.rentyourcio.com/dashboard.html</a>
    </div>

    <section>
        <h2>1. Roadmap Page ‚Äî Core Display</h2>
        
        <div class="test-item" data-test="roadmap-load">
            <div class="test-row">
                <div class="test-content">
                    <span class="test-label">Roadmap page loads</span>
                    <span class="expected">‚Üí /roadmap.html displays without errors</span>
                </div>
                <div class="test-buttons">
                    <button class="btn btn-pass" onclick="setResult(this, 'pass')">‚úì Pass</button>
                    <button class="btn btn-fail" onclick="setResult(this, 'fail')">‚úó Fail</button>
                    <button class="btn btn-skip" onclick="setResult(this, 'skip')">‚óã Skip</button>
                </div>
            </div>
            <div class="notes-container">
                <div class="notes-label">Notes</div>
                <textarea class="notes-input" placeholder=""></textarea>
            </div>
        </div>

        <div class="test-item" data-test="projects-display">
            <div class="test-row">
                <div class="test-content">
                    <span class="test-label">All 6 projects displayed</span>
                    <span class="expected">‚Üí HL, AF, EM, SF, MP, PM with correct emojis/colors</span>
                </div>
                <div class="test-buttons">
                    <button class="btn btn-pass" onclick="setResult(this, 'pass')">‚úì Pass</button>
                    <button class="btn btn-fail" onclick="setResult(this, 'fail')">‚úó Fail</button>
                    <button class="btn btn-skip" onclick="setResult(this, 'skip')">‚óã Skip</button>
                </div>
            </div>
            <div class="notes-container">
                <div class="notes-label">Notes</div>
                <textarea class="notes-input" placeholder="üîµHL üü†AF üü£EM üü°SF üî¥MP üü¢PM"></textarea>
            </div>
        </div>

        <div class="test-item" data-test="requirements-display">
            <div class="test-row">
                <div class="test-content">
                    <span class="test-label">Requirements/tasks displayed</span>
                    <span class="expected">‚Üí Shows seeded requirements with status</span>
                </div>
                <div class="test-buttons">
                    <button class="btn btn-pass" onclick="setResult(this, 'pass')">‚úì Pass</button>
                    <button class="btn btn-fail" onclick="setResult(this, 'fail')">‚úó Fail</button>
                    <button class="btn btn-skip" onclick="setResult(this, 'skip')">‚óã Skip</button>
                </div>
            </div>
            <div class="notes-container">
                <div class="notes-label">Notes</div>
                <textarea class="notes-input" placeholder="How many requirements visible?"></textarea>
            </div>
        </div>

        <div class="test-item" data-test="stats-display">
            <div class="test-row">
                <div class="test-content">
                    <span class="test-label">Stats snapshot visible</span>
                    <span class="expected">‚Üí Backlog: 11, Planned: 1, UAT: 1, Done: 1</span>
                </div>
                <div class="test-buttons">
                    <button class="btn btn-pass" onclick="setResult(this, 'pass')">‚úì Pass</button>
                    <button class="btn btn-fail" onclick="setResult(this, 'fail')">‚úó Fail</button>
                    <button class="btn btn-skip" onclick="setResult(this, 'skip')">‚óã Skip</button>
                </div>
            </div>
            <div class="notes-container">
                <div class="notes-label">Notes</div>
                <textarea class="notes-input" placeholder="What counts are shown?"></textarea>
            </div>
        </div>
    </section>

    <section>
        <h2>2. Project Filtering</h2>
        
        <div class="test-item" data-test="filter-all">
            <div class="test-row">
                <div class="test-content">
                    <span class="test-label">"All" filter shows all projects</span>
                    <span class="expected">‚Üí Click All ‚Üí see all 6 projects</span>
                </div>
                <div class="test-buttons">
                    <button class="btn btn-pass" onclick="setResult(this, 'pass')">‚úì Pass</button>
                    <button class="btn btn-fail" onclick="setResult(this, 'fail')">‚úó Fail</button>
                    <button class="btn btn-skip" onclick="setResult(this, 'skip')">‚óã Skip</button>
                </div>
            </div>
            <div class="notes-container">
                <div class="notes-label">Notes</div>
                <textarea class="notes-input" placeholder=""></textarea>
            </div>
        </div>

        <div class="test-item" data-test="filter-project">
            <div class="test-row">
                <div class="test-content">
                    <span class="test-label">Single project filter works</span>
                    <span class="expected">‚Üí Click üîµHL ‚Üí only HarmonyLab items</span>
                </div>
                <div class="test-buttons">
                    <button class="btn btn-pass" onclick="setResult(this, 'pass')">‚úì Pass</button>
                    <button class="btn btn-fail" onclick="setResult(this, 'fail')">‚úó Fail</button>
                    <button class="btn btn-skip" onclick="setResult(this, 'skip')">‚óã Skip</button>
                </div>
            </div>
            <div class="notes-container">
                <div class="notes-label">Notes</div>
                <textarea class="notes-input" placeholder="Which project did you test?"></textarea>
            </div>
        </div>
    </section>

    <section>
        <h2>3. Requirement Data</h2>
        
        <div class="test-item" data-test="req-hl001">
            <div class="test-row">
                <div class="test-content">
                    <span class="test-label">HL-001 Quiz backend fix = Done</span>
                    <span class="expected">‚Üí Status should show "done" or ‚úì</span>
                </div>
                <div class="test-buttons">
                    <button class="btn btn-pass" onclick="setResult(this, 'pass')">‚úì Pass</button>
                    <button class="btn btn-fail" onclick="setResult(this, 'fail')">‚úó Fail</button>
                    <button class="btn btn-skip" onclick="setResult(this, 'skip')">‚óã Skip</button>
                </div>
            </div>
            <div class="notes-container">
                <div class="notes-label">Notes</div>
                <textarea class="notes-input" placeholder=""></textarea>
            </div>
        </div>

        <div class="test-item" data-test="req-hl002">
            <div class="test-row">
                <div class="test-content">
                    <span class="test-label">HL-002 Complete audio UAT = UAT</span>
                    <span class="expected">‚Üí Status should show "uat" or ‚è≥</span>
                </div>
                <div class="test-buttons">
                    <button class="btn btn-pass" onclick="setResult(this, 'pass')">‚úì Pass</button>
                    <button class="btn btn-fail" onclick="setResult(this, 'fail')">‚úó Fail</button>
                    <button class="btn btn-skip" onclick="setResult(this, 'skip')">‚óã Skip</button>
                </div>
            </div>
            <div class="notes-container">
                <div class="notes-label">Notes</div>
                <textarea class="notes-input" placeholder=""></textarea>
            </div>
        </div>

        <div class="test-item" data-test="req-af001">
            <div class="test-row">
                <div class="test-content">
                    <span class="test-label">AF-001 Export fixes = Planned</span>
                    <span class="expected">‚Üí Status should show "planned"</span>
                </div>
                <div class="test-buttons">
                    <button class="btn btn-pass" onclick="setResult(this, 'pass')">‚úì Pass</button>
                    <button class="btn btn-fail" onclick="setResult(this, 'fail')">‚úó Fail</button>
                    <button class="btn btn-skip" onclick="setResult(this, 'skip')">‚óã Skip</button>
                </div>
            </div>
            <div class="notes-container">
                <div class="notes-label">Notes</div>
                <textarea class="notes-input" placeholder=""></textarea>
            </div>
        </div>
    </section>

    <section>
        <h2>4. Navigation Integration</h2>
        
        <div class="test-item" data-test="nav-tab">
            <div class="test-row">
                <div class="test-content">
                    <span class="test-label">Roadmap tab in main dashboard</span>
                    <span class="expected">‚Üí Dashboard has link/tab to Roadmap</span>
                </div>
                <div class="test-buttons">
                    <button class="btn btn-pass" onclick="setResult(this, 'pass')">‚úì Pass</button>
                    <button class="btn btn-fail" onclick="setResult(this, 'fail')">‚úó Fail</button>
                    <button class="btn btn-skip" onclick="setResult(this, 'skip')">‚óã Skip</button>
                </div>
            </div>
            <div class="notes-container">
                <div class="notes-label">Notes</div>
                <textarea class="notes-input" placeholder=""></textarea>
            </div>
        </div>

        <div class="test-item" data-test="nav-back">
            <div class="test-row">
                <div class="test-content">
                    <span class="test-label">Can navigate back to dashboard</span>
                    <span class="expected">‚Üí Link from roadmap back to main dashboard</span>
                </div>
                <div class="test-buttons">
                    <button class="btn btn-pass" onclick="setResult(this, 'pass')">‚úì Pass</button>
                    <button class="btn btn-fail" onclick="setResult(this, 'fail')">‚úó Fail</button>
                    <button class="btn btn-skip" onclick="setResult(this, 'skip')">‚óã Skip</button>
                </div>
            </div>
            <div class="notes-container">
                <div class="notes-label">Notes</div>
                <textarea class="notes-input" placeholder=""></textarea>
            </div>
        </div>
    </section>

    <section>
        <h2>5. Regression ‚Äî Existing Features</h2>
        
        <div class="test-item" data-test="reg-handoffs">
            <div class="test-row">
                <div class="test-content">
                    <span class="test-label">Handoff Bridge still works</span>
                    <span class="expected">‚Üí Can view handoffs in dashboard</span>
                </div>
                <div class="test-buttons">
                    <button class="btn btn-pass" onclick="setResult(this, 'pass')">‚úì Pass</button>
                    <button class="btn btn-fail" onclick="setResult(this, 'fail')">‚úó Fail</button>
                    <button class="btn btn-skip" onclick="setResult(this, 'skip')">‚óã Skip</button>
                </div>
            </div>
            <div class="notes-container">
                <div class="notes-label">Notes</div>
                <textarea class="notes-input" placeholder=""></textarea>
            </div>
        </div>

        <div class="test-item" data-test="reg-health">
            <div class="test-row">
                <div class="test-content">
                    <span class="test-label">Health endpoint returns 2.0.1</span>
                    <span class="expected">‚Üí /health shows version 2.0.1</span>
                </div>
                <div class="test-buttons">
                    <button class="btn btn-pass" onclick="setResult(this, 'pass')">‚úì Pass</button>
                    <button class="btn btn-fail" onclick="setResult(this, 'fail')">‚úó Fail</button>
                    <button class="btn btn-skip" onclick="setResult(this, 'skip')">‚óã Skip</button>
                </div>
            </div>
            <div class="notes-container">
                <div class="notes-label">Notes</div>
                <textarea class="notes-input" placeholder="curl https://metapm.rentyourcio.com/health"></textarea>
            </div>
        </div>
    </section>

    <div class="general-notes">
        <h3>General Notes & New Requirements</h3>
        <textarea id="general-notes" class="general-notes-input" placeholder="Capture feedback on the new roadmap feature...

‚Ä¢ UI/UX suggestions
‚Ä¢ Missing features for v2.1
‚Ä¢ Data accuracy issues
‚Ä¢ Ideas for auto-status updates"></textarea>
    </div>

    <div class="summary">
        <h3>üìä Results Summary</h3>
        <div class="summary-stats">
            <div class="stat total">Total: <span id="total-count">14</span></div>
            <div class="stat passed">Pass: <span id="pass-count">0</span></div>
            <div class="stat failed">Fail: <span id="fail-count">0</span></div>
            <div class="stat skipped">Skip: <span id="skip-count">0</span></div>
            <div class="stat notes">Notes: <span id="notes-count">0</span></div>
        </div>

        <div class="overall-result pending" id="overall-result">
            <h4>Overall Result</h4>
            <p style="margin-bottom:12px;opacity:0.8;">MetaPM v2.0.1 Roadmap ready for use?</p>
            <div class="overall-buttons">
                <button class="overall-btn approve" onclick="setOverall('pass')">‚úì APPROVED</button>
                <button class="overall-btn reject" onclick="setOverall('fail')">‚úó NEEDS FIXES</button>
            </div>
        </div>

        <button class="copy-btn" onclick="copyResults()">üìã Copy Results</button>

        <div class="submit-section">
            <button class="submit-btn" onclick="submitToMetaPM()">üì§ Submit to MetaPM</button>
            <div id="submit-result" class="hidden">
                <p id="submit-message">‚úÖ Submitted!</p>
                <input type="text" id="handoff-url" readonly />
                <button onclick="copyHandoffUrl()" style="margin-top:8px;padding:6px 12px;cursor:pointer;">üìã Copy</button>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('test-date').textContent = new Date().toLocaleDateString();
        document.querySelectorAll('.notes-input').forEach(i => i.addEventListener('input', updateCounts));
        document.getElementById('general-notes').addEventListener('input', updateCounts);

        function setResult(btn, result) {
            const item = btn.closest('.test-item');
            item.querySelectorAll('.btn').forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
            item.classList.remove('passed', 'failed', 'skipped');
            if (result === 'pass') item.classList.add('passed');
            else if (result === 'fail') item.classList.add('failed');
            else item.classList.add('skipped');
            updateCounts();
        }

        function updateCounts() {
            document.getElementById('pass-count').textContent = document.querySelectorAll('.test-item.passed').length;
            document.getElementById('fail-count').textContent = document.querySelectorAll('.test-item.failed').length;
            document.getElementById('skip-count').textContent = document.querySelectorAll('.test-item.skipped').length;
            document.getElementById('total-count').textContent = document.querySelectorAll('.test-item').length;
            const notes = Array.from(document.querySelectorAll('.notes-input')).filter(i => i.value.trim()).length;
            document.getElementById('notes-count').textContent = notes + (document.getElementById('general-notes').value.trim() ? 1 : 0);
        }

        function setOverall(result) {
            const c = document.getElementById('overall-result');
            c.classList.remove('pending', 'pass', 'fail');
            c.classList.add(result);
            c.innerHTML = result === 'pass' 
                ? '<h4 style="color:#4ade80;">‚úì v2.0.1 APPROVED</h4><p>üöÄ Roadmap feature ready!</p>'
                : '<h4 style="color:#f87171;">‚úó NEEDS FIXES</h4><p>See notes above.</p>';
        }

        function buildResultsText() {
            const p = document.querySelectorAll('.test-item.passed').length;
            const f = document.querySelectorAll('.test-item.failed').length;
            const s = document.querySelectorAll('.test-item.skipped').length;
            let r = `[MetaPM] üî¥ v2.0.1 Roadmap ‚Äî UAT Results\n${'='.repeat(50)}\nDate: ${new Date().toLocaleString()}\nSummary: ${p} passed, ${f} failed, ${s} skipped\n${'='.repeat(50)}\n`;
            document.querySelectorAll('section').forEach(sec => {
                const h = sec.querySelector('h2');
                if (h) {
                    r += `\n${h.textContent}\n${'-'.repeat(40)}\n`;
                    sec.querySelectorAll('.test-item').forEach(item => {
                        const label = item.querySelector('.test-label').textContent;
                        const notes = item.querySelector('.notes-input')?.value || '';
                        let st = '‚óã';
                        if (item.classList.contains('passed')) st = '‚úì';
                        if (item.classList.contains('failed')) st = '‚úó';
                        r += `  ${st} ${label}\n`;
                        if (notes.trim()) r += `      üìù ${notes}\n`;
                    });
                }
            });
            const gn = document.getElementById('general-notes').value.trim();
            if (gn) r += `\nGeneral Notes\n${'-'.repeat(40)}\n${gn}\n`;
            const o = document.getElementById('overall-result');
            if (o.classList.contains('pass')) r += `\nOVERALL: ‚úì APPROVED\n`;
            else if (o.classList.contains('fail')) r += `\nOVERALL: ‚úó NEEDS FIXES\n`;
            return r;
        }

        function copyResults() {
            navigator.clipboard.writeText(buildResultsText()).then(() => alert('Copied!'));
        }

        async function submitToMetaPM() {
            const btn = document.querySelector('.submit-btn');
            btn.disabled = true; btn.textContent = '‚è≥ Submitting...';
            const p = document.querySelectorAll('.test-item.passed').length;
            const f = document.querySelectorAll('.test-item.failed').length;
            const s = document.querySelectorAll('.test-item.skipped').length;
            const t = p + f + s;
            if (t === 0) { btn.textContent = '‚ùå No tests'; btn.disabled = false; return; }
            const o = document.getElementById('overall-result');
            const status = o.classList.contains('pass') ? 'passed' : o.classList.contains('fail') ? 'failed' : 'pending';
            try {
                const res = await fetch('https://metapm.rentyourcio.com/mcp/uat/submit', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({status, total_tests: t, passed: p, failed: f, results_text: buildResultsText(), project: 'MetaPM', version: '2.0.1', tested_by: 'Corey'})
                });
                const data = await res.json();
                document.getElementById('submit-result').classList.remove('hidden');
                document.getElementById('handoff-url').value = data.handoff_url || data.gcs_url || 'Submitted';
                btn.textContent = '‚úÖ Submitted!';
            } catch (e) {
                document.getElementById('submit-result').classList.remove('hidden');
                document.getElementById('submit-result').classList.add('error');
                document.getElementById('submit-message').textContent = '‚ùå ' + e.message;
                btn.disabled = false;
            }
        }

        function copyHandoffUrl() {
            navigator.clipboard.writeText(document.getElementById('handoff-url').value);
        }
    </script>
</body>
</html>
